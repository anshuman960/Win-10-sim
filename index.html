<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Windows 10 Simulator – Full Enhanced Browser</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  /* ---------- CORE LAYOUT ---------- */
  html, body {
    margin: 0; padding: 0;
    width: 100vw; height: 100vh;
    overflow: hidden;
    font-family: 'Segoe UI', Arial, sans-serif;
    background: #276ac6;
  }
  #desktop {
    position: relative;
    width: 100%; height: 100%;
  }
  #wallpaper {
    position: absolute;
    inset: 0;
    width: 100%; height: 100%;
    object-fit: cover;
    user-select: none;
    pointer-events: none;
    z-index: 0;
  }
  /* ---------- TASKBAR ---------- */
  #taskbar {
    position: absolute;
    bottom: 0; left: 0;
    width: 100%; height: 46px;
    background: rgba(34, 43, 68, 0.96);
    display: flex; align-items: center;
    z-index: 3;
  }
  #startBtn {
    margin-left: 10px;
    width: 40px; height: 40px;
    background: none; border: none;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
  }
  #startBtn svg {
    width: 32px; height: 32px;
    fill: #fff;
  }
  #time {
    margin-left: auto;
    margin-right: 22px;
    font-size: 18px;
    color: #ededed;
    text-shadow: 0 1px 0 #2225;
  }
  /* ---------- DESKTOP ICONS ---------- */
  .desktop-icon {
    width: 76px;
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    color: #fff;
    text-shadow: 0 1px 7px #000a;
    margin: 18px 0 0 20px;
    user-select: none;
  }
  .desktop-icon svg {
    width: 38px;
    height: 38px;
    background: #1d6bbb99;
    border-radius: 7px;
    padding: 3px;
    margin-bottom: 4px;
  }
  .desktop-icon span {
    font-size: 13px;
    text-align: center;
    word-break: break-word;
  }
  /* ---------- START MENU ---------- */
  #startMenu {
    position: absolute;
    left: 10px;
    bottom: 60px;
    width: 260px;
    background: rgba(36, 39, 51, 0.97);
    color: #fff;
    border-radius: 14px 14px 0 0;
    box-shadow: 0 9px 30px #0007;
    display: none;
    z-index: 4;
  }
  #startMenu .hdr {
    padding: 14px 16px 10px 16px;
    font-weight: 700;
    font-size: 19px;
    border-bottom: 1px solid #29466c;
    background: #223d63a4;
    border-radius: 14px 14px 0 0;
  }
  #startMenu ul {
    margin: 0;
    padding: 0;
    list-style: none;
  }
  #startMenu li {
    padding: 14px 20px;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.18s;
  }
  #startMenu li:hover {
    background: #37507b;
  }
  /* ---------- GENERIC WINDOW ---------- */
  #win {
    position: absolute;
    top: 90px; left: 270px;
    width: 600px; height: 430px;
    min-width: 230px; min-height: 170px;
    background: #f7fafe;
    border-radius: 12px;
    box-shadow: 2px 4px 32px #0005;
    border: 1px solid #cdd6e6;
    display: none;
    flex-direction: column;
    z-index: 5;
  }
  #win .win-header {
    background: #0078d7;
    color: #fff;
    padding: 12px 14px 8px 20px;
    font-weight: 700;
    font-size: 17px;
    cursor: move;
    user-select: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-radius: 12px 12px 0 0;
  }
  #win .win-header button {
    background: none;
    border: none;
    color: #fff;
    font-weight: 700;
    font-size: 19px;
    cursor: pointer;
  }
  #winContent {
    flex: 1;
    padding: 0;
    background: #fff;
    border-radius: 0 0 12px 12px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }
  /* ---------- BROWSER BAR ---------- */
  #browserBar {
    display: flex;
    gap: 4px;
    padding: 7px;
    background: #eef2fa;
    border-bottom: 1px solid #ccd8e9;
  }
  #addr {
    flex: 1;
    padding: 6px 8px;
    border: 1px solid #b7c6dc;
    border-radius: 4px;
    font-size: 14px;
  }
  #browserBar button {
    background: #0078d7;
    border: none;
    color: #fff;
    padding: 6px 12px;
    font-size: 14px;
    border-radius: 4px;
    cursor: pointer;
  }
  #browserBar .nav {
    width: 32px;
    padding: 0 6px;
  }
  #browserView {
    flex: 1;
    border: none;
    width: 100%;
  }
  /* ---------- SHUTDOWN OVERLAY ---------- */
  #shutdownOverlay {
    position: fixed;
    inset: 0;
    background: #222b448f;
    color: #fff;
    font-size: 2em;
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 99;
    flex-direction: column;
  }
  /* ---------- RESPONSIVE ---------- */
  @media(max-width: 600px) {
    #win {
      left: 2vw;
      top: 85px;
      width: 95vw;
    }
    .desktop-icon {
      width: 62px;
      margin-left: 6px;
    }
    .desktop-icon svg {
      width: 30px;
      height: 30px;
    }
    #startMenu {
      width: 85vw;
      left: 0;
    }
  }
</style>
</head>
<body>
  <div id="desktop">
    <div id="wallpaper"></div>
    <!-- Edge Icon -->
    <div class="desktop-icon" ondblclick="openWindow('browser')">
      <svg viewBox="0 0 38 38">
        <circle cx="19" cy="19" r="18" fill="#5AC8FA"/>
        <path fill="#0078D7" d="M25 25.3C24.7 28.5 21.7 31 16.9 31C11 31 7 25.7 7 20.2C7 15.9 10.8 12 16.7 12C20.4 12 23.2 13.9 24.7 17.1H17.8C14.2 17.1 13.7 21.2 17.3 21.2H31.2V20.6C31.2 13.9 26.1 7.6 16.8 7.6C8.8 7.6 3 13.3 3 20.5C3 28.1 10.2 34 17.8 34C27.1 34 33.5 27.8 33.5 20.2H25V25.3Z"/>
      </svg>
      <span>Edge</span>
    </div>
    <!-- YouTube Icon -->
    <div class="desktop-icon" ondblclick="openWindow('yt')">
      <svg viewBox="0 0 50 35" width="38" height="38">
        <rect width="50" height="35" rx="7" fill="#FF0000"/>
        <polygon points="20,10 38,17.5 20,25" fill="#fff"/>
      </svg>
      <span>YouTube</span>
    </div>
  </div>

  <div id="taskbar">
    <button id="startBtn" title="Start">
      <svg viewBox="0 0 36 36">
        <rect width="16" height="16"/>
        <rect x="20" width="16" height="16"/>
        <rect y="20" width="16" height="16"/>
        <rect x="20" y="20" width="16" height="16"/>
      </svg>
    </button>
    <div id="time"></div>
  </div>

  <div id="win" class="win">
    <div class="win-header" onmousedown="startDrag(event)">
      <span id="winTitle">Edge Browser</span>
      <button onclick="closeWindow()">×</button>
    </div>
    <div id="winContent"></div>
  </div>

  <div id="shutdownOverlay">
    <span style="font-size:3em; margin-bottom:.3em;">⏻</span>Shutting down...
  </div>

<script>
  // Clock
  function clock() {
    const d = new Date();
    const h = String(d.getHours()).padStart(2, '0');
    const m = String(d.getMinutes()).padStart(2, '0');
    document.getElementById('time').textContent = `${h}:${m}`;
  }
  setInterval(clock, 30000);
  clock();

  // Drag Window
  let dragOffX, dragOffY;
  const win = document.getElementById('win');
  function startDrag(e) {
    dragOffX = e.clientX - win.offsetLeft;
    dragOffY = e.clientY - win.offsetTop;
    document.onmousemove = ev => {
      win.style.left = (ev.clientX - dragOffX) + 'px';
      win.style.top = (ev.clientY - dragOffY) + 'px';
    };
    document.onmouseup = () => document.onmousemove = null;
  }
  document.querySelector('.win-header').onmousedown = startDrag;

  // Open window (browser or YouTube)
  function openWindow(app) {
    const winContent = document.getElementById('winContent');
    win.style.display = 'flex';
    document.getElementById('startMenu').style.display = 'none';

    if(app === 'yt') {
      document.getElementById('winTitle').textContent = 'YouTube';
      winContent.innerHTML = `
        <div id="browserBar">
          <input id="addr" placeholder="Type a search term or URL" autocomplete="off" />
          <button id="goBtn">Go</button>
        </div>
        <iframe id="browserView" src="https://www.youtube.com" style="flex:1; width:100%; height:100%; border:none;" sandbox="allow-scripts allow-forms allow-same-origin allow-popups"></iframe>
      `;
      setupPrivateBrowser();
    } else {
      document.getElementById('winTitle').textContent = 'Edge Browser';
      winContent.innerHTML = `
        <div id="browserBar">
          <input id="addr" placeholder="Type a search term or URL" autocomplete="off" />
          <button id="goBtn">Go</button>
        </div>
        <iframe id="browserView" src="https://duckduckgo.com" style="flex:1; width:100%; height:100%; border:none;" sandbox="allow-scripts allow-forms allow-same-origin allow-popups"></iframe>
      `;
      setupPrivateBrowser();
    }
  }

  // Close window
  function closeWindow() {
    win.style.display = 'none';
  }

  // Process input to URL or search query using DuckDuckGo to honor privacy
  function processInput(input) {
    input = input.trim();
    if (/^(https?:\/\/)/i.test(input)) return input;
    else if (/^[\w-]+(\.[\w-]+)+/.test(input)) return 'https://' + input;
    else return 'https://duckduckgo.com/?q=' + encodeURIComponent(input);
  }

  // Setup Private Browser controls
  function setupPrivateBrowser() {
    const view = document.getElementById('browserView');
    const address = document.getElementById('addr');
    const goBtn = document.getElementById('goBtn');
    goBtn.onclick = () => { view.src = processInput(address.value); };
    address.onkeydown = e => { if (e.key === 'Enter') view.src = processInput(address.value); };
    address.value = view.src;
  }

  // Start Menu toggling and shutdown
  document.getElementById('startBtn').onclick = e => {
    e.stopPropagation();
    toggleStart();
  };
  document.addEventListener('click', () => document.getElementById('startMenu').style.display = 'none');
  function toggleStart() {
    const menu = document.getElementById('startMenu');
    menu.style.display = (menu.style.display === 'block' ? 'none' : 'block');
  }

  function shutdownSim() {
    closeWindow();
    document.getElementById('startMenu').style.display = 'none';
    const overlay = document.getElementById('shutdownOverlay');
    overlay.style.display = 'flex';
    setTimeout(() => {
      overlay.innerHTML = '<div style="text-align:center;margin-top:40vh;color:#fff;">Your PC is now off.<br>Reload to turn it on.</div>';
    }, 1500);
  }
</script>

<div id="startMenu">
  <div class="hdr">Start</div>
  <ul>
    <li onclick="openWindow('browser')">Edge Browser</li>
    <li onclick="openWindow('yt')">YouTube</li>
    <li onclick="shutdownSim()">Shut Down</li>
  </ul>
</div>
</body>
</html>
